<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON Parse</title>
</head>

<body>

    <script>
        //kod iz json mozemo direktno prekopirati u js, smjestanjem u promjenjivu
        /*var data = {
            "title": "Grilled Cheese Sandwich",
            "ingredients": [
                {
                    "title": "bread slice",
                    "qty": 2
                },
                {
                    "title": "cheese slice",
                    "qty": 1
                },
                {
                    "title": "margarine pat",
                    "qty": 1
                }
            ]
        }

        var json ='{"name": "Ben", "age": 44}';
        var obj = JSON.parse(json);

        console.log(obj.name);

        var json2 = '[13, 14, 15, "Hello World"]';
        var arr = JSON.parse(json2);
        console.log(arr[3]);

        var json3 = 'true';
        var value = JSON.parse(json3);

        console.log(value);
        console.log(typeof(value));

        var json = '{"countries":[{"countryCode":"sr","name":"Serbia","capital":"Belgrade","description":"Serbia is....."},{"countryCode":"fr","name":"France","capital":"Paris","description":"France is....."}]}';
        var data = JSON.parse(json);

        for (let i = 0; i < data.countries.length; i++) {
            document.body.innerHTML += '<h2>' + data.countries[i].name + '</h2>';
            document.body.innerHTML += '<p>Capital: ' + data.countries[i].capital + '</p>';
            document.body.innerHTML += '<p>Description: ' + data.countries[i].description + '</p>';
    
        }

        console.log(data);*/

        var json = [{"username": "user1","password": "gf^^$%bb%4","dateTimeCreated": "1587290213832"},{ "username": "user2","password": "*(&%$$fff33ff","dateTimeCreated": "1382290314831"}]
        var data = JSON.parse(json, (key, value) => {


            if (key === 'dateTimeCreated') {
                value = new Date(parseInt(value));
            }

            return value;

            
        });
    </script>

</body>

</html>